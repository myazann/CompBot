LOCALIZED_STRINGS = {
    "english": {
        # General messages
        "welcome_back": "Welcome back {name}, I've missed you!",
        "first_time_greeting": "Hello! I'm Romeo, designed to provide compliments and have conversations with you.",
        "error_processing": "Sorry, I encountered an error while processing your request.",
        "unknown_button_press": "I'm not sure what to do with that button. Please try using the command buttons at the bottom of the screen instead.",
        
        # Setup flow
        "ask_name": "What would you like me to call you?",
        "ask_bot_name": "What name would you like to give me? (If you don't provide one, I'll be called Romeo)",
        "ask_language": "Please select your language:",
        "ask_frequency": "How often would you like to receive compliments?",
        "name_confirmation": "Nice to meet you, {name} :)",
        "bot_name_confirmation": "You can call me {bot_name}!",
        "language_confirmation": "Your language has been set to English! ",
        "frequency_confirmation": "I'll send you compliments {frequency}.",
        "personality_confirmation": "I'll adjust my personality to be {personality_desc}. Let's start our conversation!",
        "personality_default": "a charming and caring companion named Romeo",
        
        # Command descriptions
        "cmd_start": "Start or restart the bot",
        "cmd_language": "Change your preferred language",
        "cmd_personality": "Customize my personality",
        "cmd_frequency": "Change compliment frequency",
        "cmd_info": "View your current settings",
        "cmd_delete": "Delete your account and all data",
        "cmd_pause": "Pause scheduled compliments",
        "cmd_resume": "Resume scheduled compliments",
        "cmd_help": "Show this help message",
        
        # Menu items
        "menu_language": " Language",
        "menu_personality": " Personality",
        "menu_frequency": " Frequency",
        "menu_info": " My Info",
        "menu_help": " Help",
        "menu_delete": " Delete Account",
        "menu_pause": " Pause",
        "menu_resume": " Resume",
        
        # Frequency options
        "freq_never": "Never ",
        "freq_daily": "Daily ",
        "freq_couple_daily": "A couple of times a day (2-3) ",
        "freq_frequent_daily": "Frequently a day (5-6) ",
        "freq_rarely": "Rarely (every 2-3 days) ",
        
        # Info display
        "info_title": "Your Information",
        "info_name": "Name",
        "info_username": "Username",
        "info_language": "Language",
        "info_personality": "My Personality",
        "info_frequency": "Compliment Frequency",
        "info_created": "Account Created",
        "info_not_set": "Not set",
        "info_settings_change": "You can change these settings using the menu buttons.",
        
        # Delete account
        "delete_confirm_question": " Are you sure you want to delete your account? This will remove all your data and cannot be undone.",
        "delete_confirm_yes": "Yes, delete my account",
        "delete_confirm_no": "No, keep my account",
        "delete_success": "Your account and all associated data have been deleted. You can start again with /start if you wish to use the bot in the future.",
        "delete_error": "There was an error deleting your account. Please try again later.",
        "delete_cancelled": "Account deletion cancelled. Your data remains unchanged.",
        
        # Pause/Resume
        "pause_success": "I've paused the compliments. Use the Resume button when you want to hear from me again!",
        "pause_none_active": "You don't have any active compliments scheduled.",
        "resume_success": "I've resumed the compliments. You'll start receiving them again soon!",
        "account_required": "You don't have an active account yet. Please use /start first.",
        
        # Help
        "help_title": "CompBot Help",
        "help_description": "Here are the commands you can use:",
        
        # Errors
        "error_general": "Sorry, I encountered an error while processing your request.",
        "error_info": "Sorry, I encountered an error while retrieving your information.",
        "error_pause": "Sorry, I encountered an error trying to pause your compliments.",
        "error_resume": "Sorry, I encountered an error trying to resume your compliments."
    },
    
    "turkish": {
        # General messages
        "welcome_back": "Tekrar hoş geldin {name}, seni çok özledim!",
        "first_time_greeting": "Merhaba! Ben CompBot, sana iltifatlar yapmak ve seninle sohbet etmek için tasarlandım.",
        "error_processing": "Üzgünüm, isteğinizi işlerken bir hata oluştu.",
        "unknown_button_press": "Bu düğmeyle ne yapacağımı bilmiyorum. Lütfen ekranın altındaki komut düğmelerini kullanmayı deneyin.",
        
        # Setup flow
        "ask_name": "Sana ne isimle hitap etmemi istersin?",
        "ask_bot_name": "Bana ne isim vermek istersin? (Eğer bir isim vermezsen, bana Romeo diyeceğim)",
        "ask_language": "Lütfen dilinizi seçin:",
        "ask_frequency": "Ne sıklıkla iltifat almak istersin?",
        "name_confirmation": "Tanıştığımıza memnun oldum, {name}!",
        "bot_name_confirmation": "Bana {bot_name} diyebilirsin!",
        "language_confirmation": "Diliniz Türkçe olarak ayarlandı! ",
        "frequency_confirmation": "Sana {frequency} iltifatlar göndereceğim.",
        "personality_confirmation": "Kişiliğimi {personality_desc} olacak şekilde ayarlayacağım. Hadi sohbetimize başlayalım!",
        "personality_default": "Romeo adında çekici ve ilgili bir arkadaş",
        
        # Command descriptions
        "cmd_start": "Botu başlat veya yeniden başlat",
        "cmd_language": "Tercih ettiğiniz dili değiştirin",
        "cmd_personality": "Kişiliğimi özelleştirin",
        "cmd_frequency": "İltifat sıklığını değiştirin",
        "cmd_info": "Mevcut ayarlarınızı görüntüleyin",
        "cmd_delete": "Hesabınızı ve tüm verilerinizi silin",
        "cmd_pause": "Planlanan iltifatları duraklatın",
        "cmd_resume": "Planlanan iltifatları devam ettirin",
        "cmd_help": "Bu yardım mesajını gösterin",
        
        # Menu items
        "menu_language": " Dil",
        "menu_personality": " Kişilik",
        "menu_frequency": " Sıklık",
        "menu_info": " Bilgilerim",
        "menu_help": " Yardım",
        "menu_delete": " Hesabı Sil",
        "menu_pause": " Duraklat",
        "menu_resume": " Devam Et",
        
        # Frequency options
        "freq_never": "Asla ",
        "freq_daily": "Günlük ",
        "freq_couple_daily": "Günde birkaç kez (2-3) ",
        "freq_frequent_daily": "Günde sık sık (5-6) ",
        "freq_rarely": "Nadiren (her 2-3 gün) ",
        
        # Info display
        "info_title": "Bilgileriniz",
        "info_name": "İsim",
        "info_username": "Kullanıcı Adı",
        "info_language": "Dil",
        "info_personality": "Kişiliğim",
        "info_frequency": "İltifat Sıklığı",
        "info_created": "Hesap Oluşturulma",
        "info_not_set": "Ayarlanmamış",
        "info_settings_change": "Bu ayarları menü düğmelerini kullanarak değiştirebilirsiniz.",
        
        # Delete account
        "delete_confirm_question": " Hesabınızı silmek istediğinizden emin misiniz? Bu, tüm verilerinizi kaldıracak ve geri alınamaz.",
        "delete_confirm_yes": "Evet, hesabımı sil",
        "delete_confirm_no": "Hayır, hesabımı koru",
        "delete_success": "Hesabınız ve ilişkili tüm veriler silindi. İleride botu tekrar kullanmak isterseniz /start ile yeniden başlayabilirsiniz.",
        "delete_error": "Hesabınızı silerken bir hata oluştu. Lütfen daha sonra tekrar deneyin.",
        "delete_cancelled": "Hesap silme işlemi iptal edildi. Verileriniz değişmeden kaldı.",
        
        # Pause/Resume
        "pause_success": "İltifatları duraklattım. Benden tekrar duymak istediğinde Devam Et düğmesini kullan!",
        "pause_none_active": "Planlanmış aktif iltifatlarınız yok.",
        "resume_success": "İltifatları yeniden başlattım. Yakında tekrar almaya başlayacaksın!",
        "account_required": "Henüz aktif bir hesabınız yok. Lütfen önce /start kullanın.",
        
        # Help
        "help_title": "CompBot Yardım",
        "help_description": "Kullanabileceğiniz komutlar şunlardır:",
        
        # Errors
        "error_general": "Üzgünüm, isteğinizi işlerken bir hata oluştu.",
        "error_info": "Üzgünüm, bilgilerinizi alırken bir hata oluştu.",
        "error_pause": "Üzgünüm, iltifatlarınızı duraklatmaya çalışırken bir hata oluştu.",
        "error_resume": "Üzgünüm, iltifatlarınıza devam etmeye çalışırken bir hata oluştu."
    },
    
    "spanish": {
        # General messages
        "welcome_back": "¡Bienvenido de nuevo {name}, te he echado de menos!",
        "first_time_greeting": "¡Hola! Soy CompBot, diseñado para darte cumplidos y mantener conversaciones contigo.",
        "error_processing": "Lo siento, he encontrado un error al procesar tu solicitud.",
        "unknown_button_press": "No estoy seguro de qué hacer con ese botón. Por favor, intenta usar los botones de comando en la parte inferior de la pantalla.",
        
        # Setup flow
        "ask_name": "¿Cómo te gustaría que te llamara?",
        "ask_bot_name": "¿Qué nombre te gustaría darme? (Si no proporcionas un nombre, te llamaré Romeo)",
        "ask_language": "Por favor, selecciona tu idioma:",
        "ask_frequency": "¿Con qué frecuencia te gustaría recibir cumplidos?",
        "ask_personality": "Por favor, describe qué tipo de personalidad te gustaría que tuviera (por ejemplo, amigable, coqueto, profesional, poético, humorístico o cualquier otro estilo):",
        "name_confirmation": "¡Encantado de conocerte, {name}!",
        "bot_name_confirmation": "Puedes llamarme {bot_name}!",
        "language_confirmation": "¡Tu idioma ha sido configurado en Español! ",
        "frequency_confirmation": "Te enviaré cumplidos {frequency}.",
        "personality_confirmation": "Ajustaré mi personalidad para ser {personality_desc}. ¡Comencemos nuestra conversación!",
        "personality_default": "un compañero encantador y atento llamado Romeo",
        
        # Command descriptions
        "cmd_start": "Iniciar o reiniciar el bot",
        "cmd_language": "Cambiar tu idioma preferido",
        "cmd_personality": "Personalizar mi personalidad",
        "cmd_frequency": "Cambiar la frecuencia de los cumplidos",
        "cmd_info": "Ver tus ajustes actuales",
        "cmd_delete": "Eliminar tu cuenta y todos los datos",
        "cmd_pause": "Pausar los cumplidos programados",
        "cmd_resume": "Reanudar los cumplidos programados",
        "cmd_help": "Mostrar este mensaje de ayuda",
        
        # Menu items
        "menu_language": " Idioma",
        "menu_personality": " Personalidad",
        "menu_frequency": " Frecuencia",
        "menu_info": " Mi Info",
        "menu_help": " Ayuda",
        "menu_delete": " Eliminar Cuenta",
        "menu_pause": " Pausar",
        "menu_resume": " Reanudar",
        
        # Frequency options
        "freq_never": "Nunca ",
        "freq_daily": "Diariamente ",
        "freq_couple_daily": "Un par de veces al día (2-3) ",
        "freq_frequent_daily": "Frecuentemente al día (5-6) ",
        "freq_rarely": "Raramente (cada 2-3 días) ",
        
        # Info display
        "info_title": "Tu Información",
        "info_name": "Nombre",
        "info_username": "Nombre de usuario",
        "info_language": "Idioma",
        "info_personality": "Mi Personalidad",
        "info_frequency": "Frecuencia de Cumplidos",
        "info_created": "Cuenta Creada",
        "info_not_set": "No establecido",
        "info_settings_change": "Puedes cambiar estos ajustes usando los botones del menú.",
        
        # Delete account
        "delete_confirm_question": " ¿Estás seguro de que quieres eliminar tu cuenta? Esto eliminará todos tus datos y no se puede deshacer.",
        "delete_confirm_yes": "Sí, eliminar mi cuenta",
        "delete_confirm_no": "No, mantener mi cuenta",
        "delete_success": "Tu cuenta y todos los datos asociados han sido eliminados. Puedes empezar de nuevo con /start si deseas usar el bot en el futuro.",
        "delete_error": "Hubo un error al eliminar tu cuenta. Por favor, inténtalo de nuevo más tarde.",
        "delete_cancelled": "Eliminación de cuenta cancelada. Tus datos permanecen sin cambios.",
        
        # Pause/Resume
        "pause_success": "He pausado los cumplidos. ¡Usa el botón Reanudar cuando quieras volver a escucharme!",
        "pause_none_active": "No tienes ningún cumplido activo programado.",
        "resume_success": "He reanudado los cumplidos. ¡Pronto comenzarás a recibirlos de nuevo!",
        "account_required": "Aún no tienes una cuenta activa. Por favor, usa /start primero.",
        
        # Help
        "help_title": "Ayuda de CompBot",
        "help_description": "Aquí están los comandos que puedes usar:",
        
        # Errors
        "error_general": "Lo siento, encontré un error al procesar tu solicitud.",
        "error_info": "Lo siento, encontré un error al recuperar tu información.",
        "error_pause": "Lo siento, encontré un error al intentar pausar tus cumplidos.",
        "error_resume": "Lo siento, encontré un error al intentar reanudar tus cumplidos."
    },
    
    # Additional languages follow the same pattern
    # Add full translations for other languages as needed
}

# Add a utility function to get localized string
def get_localized_string(language_code, string_key, **kwargs):
    """
    Get a localized string for the given language and key.
    Falls back to English if the language or key is not found.
    """
    if language_code not in LOCALIZED_STRINGS:
        language_code = "english"
        
    language_strings = LOCALIZED_STRINGS[language_code]
    
    if string_key not in language_strings:
        # Fall back to English
        if string_key in LOCALIZED_STRINGS["english"]:
            string = LOCALIZED_STRINGS["english"][string_key]
        else:
            return f"Missing string: {string_key}"
    else:
        string = language_strings[string_key]
    
    # Replace any format placeholders
    if kwargs:
        try:
            string = string.format(**kwargs)
        except KeyError as e:
            # If formatting fails, return the unformatted string
            pass
            
    return string
